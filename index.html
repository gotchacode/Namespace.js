<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Namespace.js by maximebf</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Namespace.js</h1>
        <h2>Namespacing library for javascript</h2>
        <a href="https://github.com/maximebf/Namespace.js" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a name="namespacejs" class="anchor" href="#namespacejs"><span class="octicon octicon-link"></span></a>Namespace.js</h1>

<p>Namespace.js is a small javascript script which provide namespacing utilities. 
It is framework independent. It also allows you to remotely include files.</p>

<p>Features:</p>

<ul>
<li>Simple API</li>
<li>Framework independent</li>
<li>Remote file loading (synchronously or async)</li>
<li>Tested against Firefox 3.x, Safari 3.x, IE 6/7 and Opera 9.5</li>
<li>Highly configurable</li>
<li>Events</li>
<li>Optionally add methods to native objects</li>
</ul><h2>
<a name="creating-namespaces" class="anchor" href="#creating-namespaces"><span class="octicon octicon-link"></span></a>Creating namespaces</h2>

<p>Namespace can be created using the <code>Namespace()</code> function.</p>

<pre><code>Namespace('com.example');
com.example.MyClass = function() {};
</code></pre>

<p>Rather than defining all elements of your namespace like in the previous example you can specify as the 
second argument an object. All its properties will be added to the namespace.</p>

<pre><code>Namespace('com.example', {
   MyClass: function() {}
});
var obj = new com.example.MyClass();
</code></pre>

<p>Defining multiple times the same namespace won't erase previously defined objects but add them.</p>

<pre><code>Namespace('com.example', {
   MyClass: function() {}
});
Namespace('com.example', {
   MySuperClass: function() {}
});
var obj = new com.example.MyClass();
var obj2 = new com.example.MySuperClass();
</code></pre>

<p>The namespace separator can be modified by setting <code>Namespace.separator</code>.</p>

<pre><code>Namespace.separator = '/';
Namespace('com/example');
</code></pre>

<p>You can test if a namespace already exists by using <code>Namespace.exist()</code>.</p>

<pre><code>if (Namespace.exist('com.example')) {
}
</code></pre>

<h2>
<a name="importing-objects" class="anchor" href="#importing-objects"><span class="octicon octicon-link"></span></a>Importing objects</h2>

<p>When using namespaces, it is a common practice to import commonly used objects in the global namespace 
to avoid typing the full qualified name each time. This can be achieve using <code>Namespace.use()</code>.</p>

<pre><code>Namespace.use('com.example.MyClass');
var obj = new MyClass();
</code></pre>

<p>You can also use the <code>with</code> javascript instruction for temporary importation.</p>

<pre><code>with(com.example) {
   var obj = new MyClass();
}
</code></pre>

<p>You can import all elements of a namespace using <em>*</em> as the last namespace segment.</p>

<pre><code>Namespace.use('com.example.*');
var obj = new MyClass();
</code></pre>

<p>Instead of a string you can use an array to specify multiple namespaces to import.</p>

<pre><code>Namespace.use(['com.example.FirstClass', 'com.example.SecondClass']);
</code></pre>

<h2>
<a name="including-remote-scripts" class="anchor" href="#including-remote-scripts"><span class="octicon octicon-link"></span></a>Including remote scripts</h2>

<p>Namespace.js can include remote scripts using a namespace identifier with the 
<code>Namespace.include()</code> function.</p>

<pre><code>Namespace.include('com.example');
var obj = new com.example.MyClass();
</code></pre>

<p>The uri is constructed by converting dots to slashes and adding .js as the end. 
Thus in the previous example, the file would have been <em>com/example.js</em>.
The function will return true for success, false otherwise.</p>

<p>In the previous example, the file is loaded synchronously. Asynchronous loading is also 
supported if a callback is defined as the second argument.</p>

<pre><code>Namespace.include('com.example', function() {
   var obj = new com.example.MyClass();
});
</code></pre>

<p>A second callback can be defined as the third argument. It will be called only if an error occurs.</p>

<pre><code>Namespace.include('com.example', function() {
   var obj = new com.example.MyClass();
}, function() {
   alert('an error occured loading com.example');
});
</code></pre>

<p>A base uri can be specified in <code>Namespace.baseUri</code>. 
It will be prepended to all uris. It must end with a slash.</p>

<pre><code>Namespace.baseUri = './assets/js/';
</code></pre>

<p>The mapping between namespaces and filenames can be override by overriding the 
<code>Namespace.mapIdentifierToUri</code> function. It takes as parameter a namespace 
string and must return an uri.</p>

<pre><code>Namespace.mapIdentifierToUri = function(identifier) {
    return 'foo.js';
};
</code></pre>

<p>Packaging multiple scripts into a single one for production is a common practice but can 
lead to problem when using includes. This is resolved using <code>Namespace.provide()</code>. 
Call this function with a namespace identifier specifying an already loaded namespace.</p>

<pre><code>Namespace.provide('com.example');
Namespace.include('com.example'); // won't load any script
</code></pre>

<p>An array can also be used to specify multiple namespaces at once.</p>

<h2>
<a name="auto-include" class="anchor" href="#auto-include"><span class="octicon octicon-link"></span></a>Auto include</h2>

<p>When using <code>Namespace.use()</code>, if the targeted element is not found, it will be 
automatically included by default. This can be disabled by setting false to <code>Namespace.autoInclude</code>. 
It can also be disabled on a pair call basis setting false as the third argument of <code>Namespace.use()</code>.</p>

<pre><code>Namespace.use('com.example', false, false);
// or
Namespace.autoInclude = false;
</code></pre>

<p>The file can be included asynchronously by specifying a callback as the second argument.</p>

<pre><code>// include async com/example/MyClass.js
Namespace.use('com.example.MyClass', function() {
   var obj = new MyClass();
});
</code></pre>

<p>You can see that using include() with use() means that there must be one file per namespace element. 
This can be avoided by using <code>Namespace.from().use()</code></p>

<pre><code>// include async com/example.js
Namespace.from('com.example').use('com.example.MyClass', function() {
   var obj = new MyClass();
});
</code></pre>

<p>The namespace in use() can be specified relatively to the namespace in from() when starting with a dot.</p>

<pre><code>// include sync com/example.js
Namespace.from('com.example').use('.MyClass');
var obj = new MyClass();
</code></pre>

<p>When auto including, no error callback can be specified. You must use events (see after) to catch the errors.
If the <code>*</code> character is used, auto loading won't be use. 
Only elements from already included scripts will be imported.</p>

<h2>
<a name="native-extensions" class="anchor" href="#native-extensions"><span class="octicon octicon-link"></span></a>Native extensions</h2>

<p>Optionally you can add methods to javascript's native objects using <code>Namespace.registerNativeExtensions()</code>.</p>

<p>Methods are:</p>

<ul>
<li>String.namespace()</li>
<li>String.use()</li>
<li>String.include()</li>
<li>String.from()</li>
<li>String.provide()</li>
<li>Array.use()</li>
<li>Array.provide()</li>
</ul><p>There are the same as their Namespace.<code>*</code> equivalent but do not take the namespace identifier as the first argument.</p>

<pre><code>'com.example'.namespace({
   MyClass: function() {}
});

'com.example.MyClass'.use();
var obj = new MyClass();

['com.example.FirstClass', 'com.example.SecondClass'].use()

'com.remote'.include();
</code></pre>

<h2>
<a name="events" class="anchor" href="#events"><span class="octicon octicon-link"></span></a>Events</h2>

<p>Events are fired when actions occured. You can register listeners with <code>Namespace.addEventListener()</code> and 
remove them using <code>Namespace.removeEventListener()</code>. Both functions take as first argument the event 
name and as second a function. The function will receive an event object.</p>

<h3>
<a name="create" class="anchor" href="#create"><span class="octicon octicon-link"></span></a>create</h3>

<p>Fired after a namespace has been created</p>

<p>Properties:</p>

<ul>
<li>
<p>identifier: the namespace identifier that has been created</p>

<p>Namespace.addEventListener('create', function(event) {
   alert(event.identifier);
});</p>
</li>
</ul><h3>
<a name="use" class="anchor" href="#use"><span class="octicon octicon-link"></span></a>use</h3>

<p>Fired after a namespace element has been imported</p>

<p>Properties:</p>

<ul>
<li>identifier: the namespace identifier that has been imported</li>
</ul><p>Example:</p>

<pre><code>Namespace.addEventListener('use', function(event) {
   alert(event.identifier);
});
</code></pre>

<h3>
<a name="include" class="anchor" href="#include"><span class="octicon octicon-link"></span></a>include</h3>

<p>Fired after a namespace has been included (before the callback is called when async).</p>

<p>Properties:</p>

<ul>
<li>identifier: the namespace identifier</li>
<li>uri: the file uri</li>
<li>async: whether the file has been loaded asynchronously</li>
<li>callback: the callback to call on success</li>
</ul><p>Example:</p>

<pre><code>Namespace.addEventListener('include', function(event) {
   alert(event.identifier);
   alert(event.uri);
   alert(event.async);
   alert(event.callback);
});
</code></pre>

<h3>
<a name="includeerror" class="anchor" href="#includeerror"><span class="octicon octicon-link"></span></a>includeError</h3>

<p>Fired when <code>include()</code> fails to load the file (fired before the error callback is called when async).</p>

<p>Properties:</p>

<ul>
<li>identifier: the namespace identifier</li>
<li>uri: the file uri</li>
<li>async: whether the file has been loaded asynchronously</li>
<li>callback: the callback to call on success</li>
</ul><p>Example:</p>

<pre><code>Namespace.addEventListener('include', function(event) {
   alert(event.identifier);
   alert(event.uri);
   alert(event.async);
   alert(event.callback);
});
</code></pre>

<h3>
<a name="provide" class="anchor" href="#provide"><span class="octicon octicon-link"></span></a>provide</h3>

<p>Fired when <code>provide()</code> is called.</p>

<p>Properties:</p>

<ul>
<li>identifier: the namespace identifier</li>
</ul><p>Example:</p>

<pre><code>Namespace.addEventListener('provide', function(event) {
   alert(event.identifier);
});
</code></pre>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/maximebf/Namespace.js/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/maximebf/Namespace.js/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/maximebf/Namespace.js"></a> is maintained by <a href="https://github.com/maximebf">maximebf</a>.</p>

          <p>This page was generated by <a href="pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>